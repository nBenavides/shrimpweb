<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/templates/masterLayout.xhtml">

	<ui:define name="content">

		<p:growl id="mensajes" life="2000" />

		<h:form>

			<br />
			<p:outputLabel value="Portal de Comprobantes Electrónicos" />
			<br />

			<p:panelGrid columns="3">

				<p:outputLabel for="txtCedulaRuc" value="Cédula / Ruc:" />
				<p:inputText id="txtCedulaRuc"
					value="#{listaDocumentosElectronicosBean.cedulaRuc}" />
				<p:outputLabel id="txtClienteProveedor"
					value="#{listaDocumentosElectronicosBean.clienteProveedor}" />

				<p:outputLabel for="cmbMes" value="Mes:" />
				<p:selectOneMenu id="cmbMes"
					value="#{listaDocumentosElectronicosBean.mes}">
					<f:selectItem itemLabel="Enero" itemValue="01" />
					<f:selectItem itemLabel="Febrero" itemValue="02" />
					<f:selectItem itemLabel="Marzo" itemValue="03" />
					<f:selectItem itemLabel="Abril" itemValue="04" />
					<f:selectItem itemLabel="Mayo" itemValue="05" />
					<f:selectItem itemLabel="Junio" itemValue="06" />
					<f:selectItem itemLabel="Julio" itemValue="07" />
					<f:selectItem itemLabel="Agosto" itemValue="08" />
					<f:selectItem itemLabel="Septiembre" itemValue="09" />
					<f:selectItem itemLabel="Octubre" itemValue="10" />
					<f:selectItem itemLabel="Noviembre" itemValue="11" />
					<f:selectItem itemLabel="Diciembre" itemValue="12" />
				</p:selectOneMenu>

				<p:commandButton value="BUSCAR" id="btnBuscar"
					update="tblDocumentosElectronicos, mensajes"
					actionListener="#{listaDocumentosElectronicosBean.obtener}"
					styleClass="ui-priority-primary" />

				<p:outputLabel for="cmbAnio" value="Año:" />
				<p:selectOneMenu id="cmbAnio"
					value="#{listaDocumentosElectronicosBean.anio}">
					<f:selectItem itemLabel="2015" itemValue="2015" />
					<f:selectItem itemLabel="2016" itemValue="2016" />
				</p:selectOneMenu>

				<p:commandButton value="ENVIAR CORREO" id="btnEnviarCorreo"
					update="mensajes"
					actionListener="#{listaDocumentosElectronicosBean.obtener}"
					styleClass="ui-priority-primary" />

			</p:panelGrid>

		</h:form>

		<br />
		<br />

		<p:dataTable id="tblDocumentosElectronicos" var="ce"
			value="#{listaDocumentosElectronicosBean.listaComprobantesElectronicos}"
			selection="#{listaDocumentosElectronicosBean.listaComprobantesElectronicosSeleccionados}"
			rowKey="#{ce.eClaveAcceso}">

			<p:column selectionMode="multiple"
				style="width:16px;text-align:center" />

			<p:column headerText="Empresa Emisora">
				<h:outputText value="#{ce.eEmpresa}" />
			</p:column>

			<p:column headerText="Clave Acceso">
				<h:outputText value="#{ce.eClaveAcceso}" />
			</p:column>

			<p:column headerText="Fecha de Autorización">
				<h:outputText value="#{ce.eAutorizacionFecha}" />
			</p:column>

		</p:dataTable>
	</ui:define>

</ui:composition>

</html>